


<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Details</title>

    <style>
      body {
        background: #ddd3;
        display: flex;
        justify-content: center; /* Center horizontally */
        align-items: center; /* Center vertically */
        height: 100vh;
        font-family: Muli;
        font-size: 14px;
      }
      .card {
        width: 100%; /* Adjust width as needed */
        max-width: 600px;
        padding: 4vh 0;
        box-shadow: 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        border-top: 3px solid rgb(252, 103, 49);
        border-bottom: 3px solid rgb(252, 103, 49);
        border-left: none;
        border-right: none;
      }

      @media (max-width: 768px) {
        .card {
          width: 90%;
        }
      }

      .title {
        color: rgb(252, 103, 49);
        font-weight: 600;
        margin-bottom: 2vh;
        padding: 0 8%;
        font-size: initial;
      }
      #details {
        font-weight: 400;
      }
      .info {
        padding: 5% 8%;
      }
      .info .col-5 {
        padding: 0;
      }
      #heading {
        color: grey;
        line-height: 6vh;
      }
      .pricing {
        background-color: #ddd3;
        padding: 2vh 8%;
        font-weight: 400;
        line-height: 2.5;
      }
      .pricing .col-3 {
        padding: 0;
      }
      .total {
        padding: 2vh 8%;
        color: rgb(252, 103, 49);
        font-weight: bold;
      }
      .total .col-3 {
        padding: 0;
      }
      .footer {
        padding: 0 8%;
        font-size: x-small;
        color: black;
      }
      .footer img {
        height: 5vh;
        opacity: 0.2;
      }
      .footer a {
        color: rgb(252, 103, 49);
      }
      .footer .col-10,
      .col-2 {
        display: flex;
        padding: 3vh 0 0;
        align-items: center;
      }
      .footer .row {
        margin: 0;
      }
      #progressbar {
        margin-bottom: 3vh;
        overflow: hidden;
        color: rgb(252, 103, 49);
        padding-left: 0px;
        margin-top: 3vh;
      }

      #progressbar li {
        list-style-type: none;
        font-size: x-small;
        width: 25%;
        float: left;
        position: relative;
        font-weight: 400;
        color: rgb(160, 159, 159);
      }

      #progressbar #step1:before {
        content: "";
        color: rgb(252, 103, 49);
        width: 5px;
        height: 5px;
        margin-left: 0px !important;
        /* padding-left: 11px !important */
      }

      #progressbar #step2:before {
        content: "";
        color: #fff;
        width: 5px;
        height: 5px;
        margin-left: 32%;
      }

      #progressbar #step3:before {
        content: "";
        color: #fff;
        width: 5px;
        height: 5px;
        margin-right: 32%;
        /* padding-right: 11px !important */
      }

      #progressbar #step4:before {
        content: "";
        color: #fff;
        width: 5px;
        height: 5px;
        margin-right: 0px !important;
        /* padding-right: 11px !important */
      }

      #progressbar li:before {
        line-height: 29px;
        display: block;
        font-size: 12px;
        background: #ddd;
        border-radius: 50%;
        margin: auto;
        z-index: -1;
        margin-bottom: 1vh;
      }

      #progressbar li:after {
        content: "";
        height: 2px;
        background: #ddd;
        position: absolute;
        left: 0%;
        right: 0%;
        margin-bottom: 2vh;
        top: 1px;
        z-index: 1;
      }
      .progress-track {
        padding: 0 8%;
      }
      #progressbar li:nth-child(2):after {
        margin-right: auto;
      }

      #progressbar li:nth-child(1):after {
        margin: auto;
      }

      #progressbar li:nth-child(3):after {
        float: left;
        width: 68%;
      }
      #progressbar li:nth-child(4):after {
        margin-left: auto;
        width: 132%;
      }

      #progressbar li.active {
        color: black;
      }

      #progressbar li.active:before,
      #progressbar li.active:after {
        background: rgb(252, 103, 49);
      }
    </style>
    <style>
      ul.progress-bar-1 {
        height: 300px;
        list-style: none;
        margin: 0;
        padding: 0;
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow: hidden;
      }
      ul.progress-bar-1::after {
        content: "";
        position: absolute;
        top: 0;
        left: 5px;
        background: #777;
        width: 5px;
        height: 100vh;
      }
      ul.progress-bar-1 li {
        background: #000;
        border-radius: 100px;
        width: 15px;
        height: 15px;
        z-index: 1;
        position: relative;
      }
      ul.progress-bar-1 li.stop ~ li {
        background: #777;
      }
      ul.progress-bar-1 li.stop ~ li::after {
        height: 0;
      }
      ul.progress-bar-1 li::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 5px;
        background: #000;
        width: 5px;
        height: 100vh;
      }

      /*
          * Scut, a collection of Sass utilities
          * to ease and improve our implementations of common style-code patterns.
          * v1.3.0
          * Docs at https://davidtheclark.github.io/scut
          */
      .ProgressBar {
        margin: 0 auto;

        padding: 2em 0 3em;
        list-style: none;
        position: relative;
        display: flex;
        justify-content: space-between;
      }

      .ProgressBar-step {
        text-align: center;
        position: relative;
        width: 100%;
      }
      .ProgressBar-step:before,
      .ProgressBar-step:after {
        content: "";
        height: 0.5em;
        background-color: #9f9fa3;
        position: absolute;
        z-index: 1;
        width: 100%;
        left: -50%;
        top: 50%;
        transform: translateY(-50%);
        transition: all 0.25s ease-out;
      }
      .ProgressBar-step:first-child:before,
      .ProgressBar-step:first-child:after {
        display: none;
      }
      .ProgressBar-step:after {
        background-color: #00637c;
        width: 0%;
      }
      .ProgressBar-step.is-complete + .ProgressBar-step.is-current:after,
      .ProgressBar-step.is-complete + .ProgressBar-step.is-complete:after {
        width: 100%;
      }

      .ProgressBar-icon {
        width: 1.5em;
        height: 1.5em;
        background-color: #9f9fa3;
        fill: #9f9fa3;
        border-radius: 50%;
        padding: 0.5em;
        max-width: 100%;
        z-index: 10;
        position: relative;
        transition: all 0.25s ease-out;
        display: block; /* Ensure it's a block-level element */
        margin: 0 auto; /* Center horizontally */
      }

      .is-current .ProgressBar-icon {
        fill: #00637c;
        background-color: #00637c;
      }
      .is-complete .ProgressBar-icon {
        fill: #dbf1ff;
        background-color: #00637c;
      }

      .ProgressBar-stepLabel {
        display: block;
        text-transform: uppercase;
        color: #9f9fa3;
        position: absolute;
        padding-top: 0.5em;
        width: 100%;
        transition: all 0.25s ease-out;
      }
      .is-current > .ProgressBar-stepLabel,
      .is-complete > .ProgressBar-stepLabel {
        color: #00637c;
      }

      .wrapper {
        max-width: 1000px;
        margin: 4em auto;
        font-size: 16px;
      }

      /* Define the animation */
      @keyframes fillAnimation {
        from {
          width: 0%;
        }
        to {
          width: 100%;
        }
      }

      /* Apply the animation to the progress bar */
      .ProgressBar-step.is-complete + .ProgressBar-step.is-current:after,
      .ProgressBar-step.is-complete + .ProgressBar-step.is-complete:after {
        animation: fillAnimation 1s linear forwards; /* Adjust the animation duration and timing function as needed */
      }
      .callout {
        position: absolute;
        top: 10px; /* Adjust this value to position vertically */
        right: 10px; /* Adjust this value to position horizontally */
        background-color: #e1d9d1; /* Change this to your desired color */
      }

      .callout .close-button {
        background-color: #ddd; /* Background color */
        border: none; /* Remove border */
        padding: 5px 10px; /* Adjust padding as needed */
        border-radius: 5px; /* Add border radius for rounded corners */
        color: #333; /* Text color */
        text-decoration: none; /* Remove default underline */
        font-size: 16px; /* Adjust font size as needed */
      }

      .callout .close-button:hover {
        background-color: #ccc; /* Change background color on hover */
      }

      .callout .close-button a {
        text-decoration: none; /* Remove default underline */
        color: inherit; /* Inherit color from parent */
      }

      .card-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh; /* Adjust as needed */
      }
    </style>

    <!-- Remaining HTML content -->
    <link
      rel="stylesheet"
      href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
  </head>
  <body>

    <div class="card-container">
        
        
    <div class="card" >
        
        
      <div class="callout" data-closable>
        <button
          class="close-button"
          aria-label="Close alert"
          type="button"
          data-close
        >
          <a href="{% url 'orderlist' %}" aria-hidden="true">&times;</a>
        </button>
      </div>

      <div class="info">
        <div class="row">
          <div class="col-7">

            {% if order.status == 'Cancelled' %}
            <span id="heading">Cancelled Date</span><br />
            <span id="details">{{ order.order_cancel.cancellation_date }}</span>

            {% else %}

            <span id="heading">Delivery Date</span><br />
            <span id="details">{{ order.delivery_date }}</span>
            {% endif %}
             
          </div>
          <div class="col-5 pull-right">
            <span id="heading">Order No.</span><br />
            <span id="details">{{ order.order_id }}</span>
          </div>
        </div>
      </div>

      <div class="info">
        <div class="row">
          <div class="col-7">
            {% for cart_item in order.cart_items.all %} 
            {% if cart_item.product.product_images.last %}

            <span id="details"
              ><a href="{% url 'get_product' cart_item.product.slug  %}"
                ><img
                  src="{{ cart_item.product.product_images.last.image.url }}"
                  alt="#"
                  height="100"
                  width="80" /></a></span
            ><br />
            {% endif %}

            <span id="details">{{ cart_item.product.product_name }}</span><br />

          {% endfor %}
            <span id="details">Total Amount: ₹ {{ order.total_price }}</span>
            <!-- Displaying total price in INR -->
          </div>

          <div class="col-5 pull-right">
            <span id="heading">Delivery Address</span><br />
            <span id="details">{{ order.user.address }}</span><br />
            <span id="heading">Phone Number</span>
            <span id="details">{{ order.user.mobile }}</span>
          </div>
        </div>
      </div>

      <div class="left">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" id='messages-container' role="alert" style="font-size: 18px;">
            <strong></strong>{{ message }}
            
            <button type="button" class="close" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
    </div>
    

    <div class="progress-track">
      <div class="row">
          {% if order.status == 'Cancelled' %}
              <label for="">Cancelled Reason</label><br>
              <br><p>{{ order.order_cancel.cancellation_reason }}</p>
          {% else %}
              <form action="" method="POST">
                  {% csrf_token %}
                  <label for="">Cancellation Reason</label><br>
                  <textarea name="cancellation_reason" cols="70" rows="5" required="required"></textarea>
                  <button class="btn btn-success" type="submit">Submit Cancellation Request</button>
              </form>
          {% endif %}
      </div>
  </div>
  

      
      <br />
      <div class="footer">
        <div class="row">
          <div class="footer">
            <h6>
              Need help? Contact us at <a href="#">support@example.com</a>
            </h6>
          </div>
        </div>
      </div>
    </div>
</div>


    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      function closePage() {
        window.close();
      }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get all close buttons
            var closeButtons = document.querySelectorAll('.alert .close');
    
            // Add event listener to each close button
            closeButtons.forEach(function(button) {
                button.addEventListener('click', function() {
                    // Find the parent alert div and hide it
                    var alertDiv = button.closest('.alert');
                    if (alertDiv) {
                        alertDiv.style.display = 'none';
                    }
                });
            });
        });


         // Automatically dismiss messages after 5 seconds
      window.onload = function() {
        setTimeout(function() {
            var messagesContainer = document.getElementById('messages-container');
            if (messagesContainer) {
                messagesContainer.remove();
            }
        }, 1000); // 5000 milliseconds = 5 seconds
    };
    </script>

    
  </body>
</html>
